(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{28:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(6),o=n.n(r),i=(n(28),n(12)),s=n(4),u=n.n(s),l=n(8),j=n(5),b=n(22),m=n.n(b),d=function(){var e=Object(l.a)(u.a.mark((function e(t,n){var c,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("".concat("https://pixabay.com/api/","?q=").concat(t,"&page=").concat(n,"&key=").concat("22615955-8cacb706f354043da71650c83","&image_type=photo&orientation=horizontal&per_page=12"));case 2:return c=e.sent,a=c.data,e.abrupt("return",a.hits);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),f=n(13),h=n(1);function p(e){var t=e.largeImageURL,n=e.onClick,c=e.webformatURL;return Object(h.jsx)("li",{className:"ImageGalleryItem",children:Object(h.jsx)("img",{onClick:function(e){n(t)},src:c,alt:"",className:"ImageGalleryItem-image"})})}function O(e){var t=e.gallery,n=e.onClick;return Object(h.jsx)("ul",{className:"ImageGallery",children:t.map((function(e){var t=e.id,c=e.webformatURL,a=e.largeImageURL,r=e.tags;return Object(h.jsx)(p,{webformatURL:c,largeImageURL:a,tags:r,onClick:n},t)}))})}var g=document.querySelector("#modal-root");function v(e){var t=e.children,n=e.onClose;Object(c.useEffect)((function(){var e=function(e){"Escape"===e.code&&n()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[n]);return Object(r.createPortal)(Object(h.jsx)("div",{onClick:function(e){e.target===e.currentTarget&&n()},className:"Overlay",children:Object(h.jsx)("div",{className:"Modal",children:t})}),g)}function x(e){var t=e.onClick;return Object(h.jsx)("button",{type:"button",className:"Button",onClick:t,children:"Load more"})}function y(e){var t=e.onSubmit,n=Object(c.useState)(""),a=Object(j.a)(n,2),r=a[0],o=a[1];return Object(h.jsx)("header",{className:"Searchbar",children:Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(r),o("")},className:"SearchForm",children:[Object(h.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(h.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(h.jsx)("input",{className:"SearchForm-input",name:"searchValue",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images",onChange:function(e){o(e.target.value)},value:r})]})})}var w=n(23),S=n.n(w);function k(){return Object(h.jsx)("div",{className:"Spinner",children:Object(h.jsx)(S.a,{type:"Puff",color:"#00BFFF",height:100,width:100,timeout:700})})}n(70),n(71);function C(){var e=Object(c.useState)(""),t=Object(j.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)([]),o=Object(j.a)(r,2),s=o[0],b=o[1],m=Object(c.useState)(1),p=Object(j.a)(m,2),g=p[0],w=p[1],S=Object(c.useState)("idle"),C=Object(j.a)(S,2),N=C[0],I=C[1],L=Object(c.useState)(null),F=Object(j.a)(L,2),E=F[0],R=F[1];Object(c.useEffect)((function(){""!==n.trim()&&function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,I("pending"),R(null),e.next=5,d(n);case 5:0===(t=e.sent).length&&f.b.error("Sorry, there are no images matching your search query. Please try again.",{autoClose:3e3}),I("resolved"),w((function(e){return e+1})),b(t),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}()()}),[n]);var U=function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(n,g);case 2:t=e.sent,I("pending"),b((function(e){return[].concat(Object(i.a)(e),Object(i.a)(t))})),w((function(e){return e+1})),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=s.length>1;return Object(h.jsxs)("div",{className:"Container",children:[Object(h.jsx)(y,{onSubmit:function(e){b([]),a(e),w(1),I("pending")}}),Object(h.jsx)(O,{onClick:function(e){R(e)},gallery:s}),"pending"===N&&Object(h.jsx)(k,{}),q&&Object(h.jsx)(x,{onClick:U}),E&&Object(h.jsx)(v,{src:E,onClose:function(){R(null)},children:Object(h.jsx)("div",{style:{width:850},children:Object(h.jsx)("img",{src:E,alt:""})})}),Object(h.jsx)(f.a,{})]})}o.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(C,{})}),document.getElementById("root"))}},[[72,1,2]]]);
//# sourceMappingURL=main.511ef2aa.chunk.js.map
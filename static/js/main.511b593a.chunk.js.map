{"version":3,"sources":["services/FetchImages.js","services/smoothScroll.js","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Modal/Modal.jsx","components/Button/Button.jsx","components/Searchbar/Searchbar.jsx","components/Loader/Loader.jsx","App.js","index.js"],"names":["fetchImages","query","page","a","axios","get","data","hits","smoothScroll","window","scrollTo","top","document","documentElement","scrollHeight","behavior","ImageGalleryItem","onClick","e","props","largeImageURL","className","this","src","webformatURL","alt","Component","ImageGallery","gallery","map","id","tags","modalRoot","querySelector","Modal","handleOverlayClick","target","currentTarget","onClose","handleKeyDown","code","addEventListener","removeEventListener","createPortal","children","Button","type","Searchbar","state","searchValue","handleOnSubmit","preventDefault","onSubmit","setState","handleOnChange","value","name","autoComplete","autoFocus","placeholder","onChange","Spinner","color","height","width","timeout","App","reqStatus","largeImageUrl","handleLoadMore","images","prev","handleSubmit","handleLargeImgUrl","toggleModal","_","prevState","trim","length","toast","error","autoClose","console","log","galleryLength","style","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.511b593a.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nconst KEY = \"22615955-8cacb706f354043da71650c83\";\r\nconst BASE_URL = \"https://pixabay.com/api/\";\r\n\r\nexport const fetchImages = async (query, page) => {\r\n  const { data } = await axios.get(\r\n    `${BASE_URL}?q=${query}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`\r\n  );\r\n  return data.hits;\r\n};\r\n","export const smoothScroll = () =>\r\n  window.scrollTo({\r\n    top: document.documentElement.scrollHeight,\r\n    behavior: \"smooth\",\r\n  });\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default class ImageGalleryItem extends Component {\r\n  onClick = (e) => {\r\n    this.props.onClick(this.props.largeImageURL);\r\n  };\r\n  render() {\r\n    return (\r\n      <li className=\"ImageGalleryItem\">\r\n        <img\r\n          onClick={this.onClick}\r\n          src={this.props.webformatURL}\r\n          alt=\"\"\r\n          className=\"ImageGalleryItem-image\"\r\n        />\r\n      </li>\r\n    );\r\n  }\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  largeImageURL: PropTypes.string.isRequired,\r\n  onClick: PropTypes.func,\r\n  webformatURL: PropTypes.string.isRequired,\r\n};\r\n\r\n\r\n\r\n","import React, {Component} from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\n\r\nexport default class ImageGallery extends Component  {\r\n  render() {\r\n    const { gallery, onClick } = this.props\r\n    \r\n      return (\r\n        <ul className=\"ImageGallery\">\r\n          {gallery.map(({ id, webformatURL, largeImageURL, tags }) => (\r\n            <ImageGalleryItem\r\n              key={id}\r\n              webformatURL={webformatURL}\r\n              largeImageURL={largeImageURL}\r\n              tags={tags}\r\n              onClick={onClick}\r\n            />\r\n          ))}\r\n        </ul>\r\n      );\r\n    }\r\n  }\r\n\r\n\r\nImageGallery.propTypes = {\r\n  gallery: PropTypes.array,\r\n  onClick: PropTypes.func,\r\n};\r\n\r\n","import React, { Component } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport PropTypes from 'prop-types';\r\n\r\nconst modalRoot = document.querySelector(\"#modal-root\");\r\n\r\nexport default class Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n  handleOverlayClick = (e) => {\r\n    if (e.target === e.currentTarget) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleKeyDown = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n  render() {\r\n    return createPortal(\r\n      <div onClick={this.handleOverlayClick} className=\"Overlay\">\r\n        <div className=\"Modal\">{this.props.children}</div>\r\n      </div>,\r\n\r\n      modalRoot\r\n    );\r\n  }\r\n}\r\nModal.propTypes = {\r\n  onClose: PropTypes.func.isRequired,\r\n};\r\n","import React , {Component} from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default class Button extends Component {\r\n  render() {\r\n    const { onClick } = this.props;\r\n    return (\r\n      <button type=\"button\" className=\"Button\" onClick={onClick}>\r\n       Load more\r\n      </button>\r\n    );\r\n  }\r\n}\r\nButton.propTypes = {\r\n  onClick: PropTypes.func,\r\n};\r\n\r\n\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from 'prop-types';\r\n\r\n export default class Searchbar extends Component {\r\n  state = {\r\n    searchValue: \"\",\r\n  };\r\n\r\n  handleOnSubmit = (e) => {\r\n    e.preventDefault();\r\n    this.props.onSubmit(this.state.searchValue);\r\n    this.setState({ searchValue: \"\" });\r\n  };\r\n  handleOnChange = (e) => {\r\n    this.setState({ searchValue: e.target.value });\r\n    // console.log(e.target.value);\r\n  };\r\n\r\n    render() {\r\n      return (\r\n        <header className=\"Searchbar\">\r\n          <form onSubmit={this.handleOnSubmit} className=\"SearchForm\">\r\n            <button type=\"submit\" className=\"SearchForm-button\">\r\n              <span className=\"SearchForm-button-label\">Search</span>\r\n            </button>\r\n\r\n            <input\r\n              className=\"SearchForm-input\"\r\n              name=\"searchValue\"\r\n              type=\"text\"\r\n              autoComplete=\"off\"\r\n              autoFocus\r\n              placeholder=\"Search images\"\r\n              onChange={this.handleOnChange}\r\n              value={this.state.searchValue}\r\n            />\r\n          </form>\r\n        </header>\r\n      );\r\n\r\n    }\r\n}\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func,\r\n};\r\n\r\n\r\n\r\n","import React, { Component } from \"react\";\r\nimport Loader from \"react-loader-spinner\";\r\n\r\nexport default class Spinner extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"Spinner\">\r\n        <Loader type=\"Puff\" color=\"#00BFFF\" height={100} width={100}  timeout={700}/>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n","import { Component } from \"react\";\nimport { fetchImages } from \"./services/FetchImages\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport { smoothScroll } from \"./services/smoothScroll\";\nimport ImageGallery from \"./components/ImageGallery/ImageGallery.jsx\";\nimport Modal from \"./components/Modal/Modal.jsx\";\nimport Button from \"./components/Button/Button.jsx\";\nimport SearchBar from \"./components/Searchbar/Searchbar.jsx\";\nimport Loader from \"./components/Loader/Loader.jsx\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport \"./App.css\";\n\nexport default class App extends Component {\n  state = {\n    searchValue: \"\",\n    gallery: [],\n    page: 1,\n    reqStatus: \"idle\",\n    largeImageUrl: null,\n  };\n\n  async componentDidUpdate(_, prevState) {\n    const { searchValue, page } = this.state;\n    try {\n      if (prevState.searchValue !== this.state.searchValue) {\n        this.setState({\n          reqStatus: \"pending\",\n          largeImageUrl: null,\n        });\n        const images = await fetchImages(searchValue, page);\n\n        if (searchValue.trim() === \"\") {\n          return;\n        }\n\n        if (images.length === 0) {\n          toast.error(\n            \"Sorry, there are no images matching your search query. Please try again.\",\n            {\n              autoClose: 3000,\n            }\n          );\n        }\n\n        this.setState((prev) => ({\n          reqStatus: \"resolved\",\n          gallery: images,\n          page: prev.page + 1,\n        }));\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  handleLoadMore = async () => {\n    const { searchValue, page } = this.state;\n    const images = await fetchImages(searchValue, page);\n    this.setState((prev) => ({\n      gallery: [...prev.gallery, ...images],\n      page: prev.page + 1,\n      reqStatus: \"pending\",\n    }));\n\n    smoothScroll();\n  };\n\n  handleSubmit = (searchValue) => {\n    this.setState({\n      searchValue,\n      page: 1,\n      reqStatus: \"pending\",\n    });\n  };\n\n  handleLargeImgUrl = (largeImageUrl) => {\n    this.setState({ largeImageUrl });\n  };\n\n  toggleModal = () => {\n    this.setState({\n      largeImageUrl: null,\n    });\n  };\n\n  render() {\n    const { gallery, reqStatus, largeImageUrl } = this.state;\n    const galleryLength = gallery.length > 1;\n\n    return (\n      <div className=\"Container\">\n        <SearchBar onSubmit={this.handleSubmit} />\n        <ImageGallery onClick={this.handleLargeImgUrl} gallery={gallery} />\n        {reqStatus === \"pending\" && <Loader />}\n        {galleryLength && <Button onClick={this.handleLoadMore} />}\n        {largeImageUrl && (\n          <Modal src={largeImageUrl} onClose={this.toggleModal}>\n            <div style={{ width: 950 }}>\n              <img src={largeImageUrl} alt=\"\" />\n            </div>\n          </Modal>\n        )}\n        <ToastContainer />\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}